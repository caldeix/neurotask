(function(){"use strict";var e={6421:function(e,t,a){var l=a(5130),n=(a(4114),a(8111),a(2489),a(116),a(7588),a(1701),a(3579),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(6768)),o=a(4232),r=a(144);const i={class:"header"},s={class:"header-top"},u={class:"title-container"},c={key:1,class:"title-input-container"},d={class:"header-buttons"},v={class:"search-filters-section"},p={class:"search-container"},m=["value"],k={class:"filters-container"},f={class:"filter-group"},g={class:"multiselect-container"},L={key:0},b={key:1},y={key:0,class:"multiselect-dropdown"},C=["onClick"],h=["checked"],E={class:"filter-group"},I={class:"multiselect-container"},w={key:0},x={key:1},T={key:0,class:"multiselect-dropdown"},D=["onClick"],_=["checked"];var X={__name:"KanbanHeader",props:{boardTitle:{type:String,required:!0},availableProducts:{type:Array,default:()=>[]},availablePriorities:{type:Array,default:()=>[]},selectedProducts:{type:Array,default:()=>[]},selectedPriorities:{type:Array,default:()=>[]},searchTerm:{type:String,default:""}},emits:["update:boardTitle","update:searchTerm","update:selectedProducts","update:selectedPriorities","search","config-click","add-task"],setup(e,{emit:t}){const a=t,X=e,S=(0,r.KR)(!1),j=(0,r.KR)(""),P=(0,r.KR)(null),K=(0,r.KR)(!1),R=(0,r.KR)(!1),A=()=>{j.value=X.boardTitle,S.value=!0,(0,n.dY)((()=>{P.value.focus()}))},N=()=>{j.value.trim()&&a("update:boardTitle",j.value.trim()),S.value=!1},O=()=>{S.value=!1},U=e=>{a("update:searchTerm",e.target.value),a("search",e.target.value)},$=()=>{a("update:searchTerm",""),a("search","")},V=e=>{const t=[...X.selectedProducts],l=t.indexOf(e);-1===l?t.push(e):t.splice(l,1),a("update:selectedProducts",t)},J=e=>{const t=[...X.selectedPriorities],l=t.indexOf(e);-1===l?t.push(e):t.splice(l,1),a("update:selectedPriorities",t)},Q=e=>{e.target.closest(".multiselect-container")||(K.value=!1,R.value=!1)};return(0,n.sV)((()=>{document.addEventListener("click",Q)})),(t,a)=>((0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("div",s,[(0,n.Lk)("div",u,[S.value?((0,n.uX)(),(0,n.CE)("div",c,[(0,n.bo)((0,n.Lk)("input",{ref_key:"titleInput",ref:P,"onUpdate:modelValue":a[0]||(a[0]=e=>j.value=e),onKeyup:[(0,l.jR)(N,["enter"]),(0,l.jR)(O,["esc"])],onBlur:N,class:"title-input"},null,544),[[l.Jo,j.value]])])):((0,n.uX)(),(0,n.CE)("h1",{key:0,class:"title",onClick:A},[(0,n.eW)((0,o.v_)(e.boardTitle)+" ",1),a[7]||(a[7]=(0,n.Lk)("span",{class:"edit-icon"},"⚙️",-1))]))]),(0,n.Lk)("div",d,[(0,n.Lk)("button",{onClick:a[1]||(a[1]=e=>t.$emit("config-click")),class:"json-button"}," CONFIGURAR ")])]),(0,n.Lk)("div",v,[(0,n.Lk)("div",p,[(0,n.Lk)("input",{value:e.searchTerm,onInput:U,type:"text",placeholder:"Buscar por título o ID...",class:"search-input"},null,40,m),e.searchTerm?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:$,class:"clear-search-button"},"×")):(0,n.Q3)("",!0)]),(0,n.Lk)("div",k,[(0,n.Lk)("div",f,[a[9]||(a[9]=(0,n.Lk)("label",{class:"filter-label"},"Productos:",-1)),(0,n.Lk)("div",g,[(0,n.Lk)("div",{onClick:a[2]||(a[2]=e=>K.value=!K.value),class:"multiselect-trigger"},[0===e.selectedProducts.length?((0,n.uX)(),(0,n.CE)("span",L,"Todos los productos")):((0,n.uX)(),(0,n.CE)("span",b,(0,o.v_)(e.selectedProducts.length)+" seleccionado(s)",1)),a[8]||(a[8]=(0,n.Lk)("span",{class:"dropdown-arrow"},"▼",-1))]),K.value?((0,n.uX)(),(0,n.CE)("div",y,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.availableProducts,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t,onClick:e=>V(t),class:(0,o.C4)(["multiselect-option",{selected:e.selectedProducts.includes(t)}])},[(0,n.Lk)("input",{type:"checkbox",checked:e.selectedProducts.includes(t),onClick:a[3]||(a[3]=(0,l.D$)((()=>{}),["stop"]))},null,8,h),(0,n.eW)(" "+(0,o.v_)(t),1)],10,C)))),128))])):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",E,[a[11]||(a[11]=(0,n.Lk)("label",{class:"filter-label"},"Prioridad:",-1)),(0,n.Lk)("div",I,[(0,n.Lk)("div",{onClick:a[4]||(a[4]=e=>R.value=!R.value),class:"multiselect-trigger"},[0===e.selectedPriorities.length?((0,n.uX)(),(0,n.CE)("span",w,"Todas las prioridades")):((0,n.uX)(),(0,n.CE)("span",x,(0,o.v_)(e.selectedPriorities.length)+" seleccionada(s)",1)),a[10]||(a[10]=(0,n.Lk)("span",{class:"dropdown-arrow"},"▼",-1))]),R.value?((0,n.uX)(),(0,n.CE)("div",T,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.availablePriorities,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t.value,onClick:e=>J(t.value),class:(0,o.C4)(["multiselect-option",{selected:e.selectedPriorities.includes(t.value)}])},[(0,n.Lk)("input",{type:"checkbox",checked:e.selectedPriorities.includes(t.value),onClick:a[5]||(a[5]=(0,l.D$)((()=>{}),["stop"]))},null,8,_),(0,n.Lk)("span",{class:(0,o.C4)(["priority-indicator",t.class])},null,2),(0,n.eW)(" "+(0,o.v_)(t.label),1)],10,D)))),128))])):(0,n.Q3)("",!0)])])]),(0,n.Lk)("button",{onClick:a[6]||(a[6]=e=>t.$emit("add-task")),class:"add-button"}," + Añadir Tarea ")])]))}},S=a(1241);const j=(0,S.A)(X,[["__scopeId","data-v-2c675fc1"]]);var P=j;const K={class:"kanban-container"},R={class:"kanban-wrapper"},A={class:"modal-header"},N={class:"settings-tabs"},O={key:0,class:"config-modal-content"},U={class:"column-types-container"},$=["onDragstart","onDragover"],V=["onUpdate:modelValue"],J=["onUpdate:modelValue"],Q=["onClick","disabled"],F={class:"add-column-form"},W={class:"form-row"},B=["disabled"],q={key:1,class:"data-view-content"},M={class:"data-view-actions"},z={class:"json-viewer"},G={class:"json-display"},H={class:"config-actions"},Y={class:"modal-header"},Z={class:"modal-header-actions"},ee={class:"json-modal-content"},te={class:"json-display-modal"},ae={key:2,class:"modal-overlay"},le={class:"modal-header"},ne={class:"modal-title"},oe={class:"form-group"},re={class:"form-group"},ie={class:"form-group"},se={class:"product-input-container"},ue={key:0,class:"selected-products"},ce=["onClick"],de={class:"product-autocomplete"},ve=["onKeydown"],pe={key:0,class:"product-suggestions"},me=["onClick"],ke={class:"form-group"},fe=["value"],ge={class:"form-group"},Le={class:"input-with-validation"},be={key:0,class:"form-error"},ye={key:1,class:"form-hint"},Ce={class:"form-row"},he={class:"form-group"},Ee={class:"form-group"},Ie=["min"],we={class:"form-group"},xe={class:"select-container"},Te={key:0,class:"dropdown"},De=["onClick"],_e={class:"dropdown-item-content"},Xe={class:"dropdown-item-name"},Se={class:"dropdown-item-id"},je={class:"dropdown-item-status"},Pe={key:0,class:"dropdown-item-description"},Ke={key:0,class:"dropdown-item-empty"},Re={key:0,class:"selected-parent"},Ae={class:"modal-actions"},Ne=["disabled"],Oe={class:"combined-modal-content"},Ue={class:"comments-section"},$e={class:"modal-header"},Ve={class:"modal-title"},Je={class:"comments-modal-content"},Qe={class:"comments-list"},Fe={key:0,class:"no-comments"},We={class:"comment-header"},Be={class:"comment-header-left"},qe={class:"comment-date"},Me={key:0,class:"comment-completed-date"},ze={class:"comment-actions-buttons"},Ge=["onClick","title"],He=["onClick"],Ye={class:"new-comment-form"},Ze={class:"form-group"},et={class:"form-group"},tt={class:"eisenhower-matrix"},at={class:"matrix-row"},lt={class:"matrix-option"},nt={class:"matrix-option"},ot={class:"matrix-row"},rt={class:"matrix-option"},it={class:"matrix-option"},st={class:"comment-actions"},ut=["disabled"],ct={class:"task-view-section"},dt={class:"modal-header"},vt={class:"modal-title"},pt={class:"view-modal-content"},mt={class:"view-field"},kt={class:"view-field"},ft={class:"view-field"},gt={class:"view-field"},Lt={key:0},bt={key:1},yt={key:0,class:"view-field"},Ct={key:1,class:"view-field"},ht=["href"],Et={key:2,class:"view-field"},It={key:3,class:"view-field"},wt={class:"subtasks-list"},xt=["onClick"],Tt={class:"view-field"},Dt={key:4,class:"view-field"},_t={class:"task-actions-row"},Xt={class:"modal-header"},St={class:"modal-title"},jt={class:"delete-modal-content"},Pt={class:"delete-message"},Kt={key:0,class:"warning-box"},Rt={class:"modal-actions"},At={class:"columns-container"},Nt={class:"column-title"},Ot=["onDrop"],Ut=["onDragstart","onDblclick","onContextmenu"],$t={class:"task-header"},Vt={class:"task-title"},Jt={class:"task-actions"},Qt=["title"],Ft={class:"task-badges"},Wt={key:0,class:"parent-badge"},Bt={key:1,class:"child-badge"},qt={class:"task-meta"},Mt={class:"task-id"},zt={class:"task-product"},Gt={key:0,class:"task-description"},Ht={key:1,class:"jira-link-container"},Yt=["href"],Zt={key:2,class:"parent-info"},ea=["onClick"],ta={key:3,class:"children-info"},aa={class:"children-links"},la=["onClick"],na={key:0},oa={class:"task-info"},ra={key:0,class:"empty-column"};var ia={__name:"App",setup(e){const t=e=>{if(!e)return"#000000";const t=e.replace("#",""),a=parseInt(t.substring(0,2),16),l=parseInt(t.substring(2,4),16),n=parseInt(t.substring(4,6),16),o=(.2126*a+.7152*l+.0722*n)/255;return o>.5?"#000000":"#ffffff"},a=((0,n.pM)({name:"TreeNodeComponent",props:{task:{type:Object,required:!0},level:{type:Number,default:0}},template:'\n    <div class="tree-node" :style="{ marginLeft: level * 40 + \'px\' }">\n      <div class="tree-task-card" :class="\'status-\' + task.status">\n        <div class="tree-task-header">\n          <h4 class="tree-task-title">{{ task.name }}</h4>\n          <div class="tree-task-actions">\n            <button @click="viewTaskFromTree(task)" class="tree-action-btn">👁️</button>\n            <button @click="highlightTaskFromTree(task.id)" class="tree-action-btn">📍</button>\n          </div>\n        </div>\n        <div class="tree-task-meta">\n          <span class="task-id">ID: {{ task.id }}</span>\n          <span class="task-product">{{ getTaskProducts(task) }}</span>\n          <span class="priority-badge" :class="getPriorityClassFromTree(task.priority)">\n            {{ getPriorityLabelFromTree(task.priority) }}\n          </span>\n          <span class="status-badge" :class="\'status-\' + task.status">\n            {{ getStatusLabelFromTree(task.status) }}\n          </span>\n        </div>\n        <div v-if="task.description" class="tree-task-description">\n          {{ task.description }}\n        </div>\n      </div>\n      \n      \x3c!-- Líneas de conexión y subtareas --\x3e\n      <div v-if="task.children && task.children.length > 0" class="tree-children">\n        <div class="tree-line"></div>\n        <TreeNodeComponent \n          v-for="child in task.children" \n          :key="child.id"\n          :task="child" \n          :level="level + 1"\n        />\n      </div>\n    </div>\n  ',methods:{viewTaskFromTree(e){this.$parent.viewTask(e)},highlightTaskFromTree(e){this.$parent.highlightTask(e)},getPriorityClassFromTree(e){return this.$parent.getPriorityClass(e)},getPriorityLabelFromTree(e){return this.$parent.getPriorityLabel(e)},getStatusLabelFromTree(e){return this.$parent.getStatusLabel(e)},getTaskProducts(e){return e.products&&e.products.length>0?e.products.join(", "):e.product||"Sin producto"}}}),(0,r.KR)(null)),i=(0,r.KR)(null),s=(0,r.KR)("Tablero Kanban"),u=(0,r.KR)([]),c=(0,r.KR)([]),d=(0,n.EW)((()=>u.value.map((e=>{const t=c.value.filter((t=>t.taskId===e.id));return{...e,comments:t}})))),v=(0,r.KR)(null),p=(0,r.KR)(null),m=(0,r.KR)(!1),k=(0,r.KR)(null),f=(0,r.KR)({name:"",description:"",products:[],priority:"",jiraLink:"",parentId:null,startDate:null,endDate:null}),g=(0,r.KR)(!1),L=(0,r.KR)([]),b=(0,r.KR)({name:"",color:"#CCCCCC"}),y=(0,r.KR)(!1),C=(0,r.KR)(!1),h=(0,r.KR)("columns"),E=(0,r.KR)(!1),I=(0,r.KR)(null),w=(0,r.KR)(!1),x=(0,r.KR)(null),T=(0,r.KR)({text:"",matrixValue:"not-important-not-urgent"}),D=(0,r.KR)(""),_=(0,r.KR)(!1),X=(0,r.KR)([]),S=(0,r.KR)(""),j=(0,r.KR)([]),ia=(0,r.KR)(!1),sa=(0,r.KR)([]),ua=(0,r.KR)(!1),ca=(0,r.KR)(!1),da=(0,r.KR)(null),va=(0,r.KR)(0),pa=(0,r.KR)(0),ma=(0,r.KR)(null),ka=(0,r.KR)(null);let fa=null;function ga(){ka.value.click()}async function La(e){const t=e.target.files[0];if(t)try{const a=await ba(t),l=JSON.parse(a);if(Array.isArray(l)){const e=[],t=l.map((t=>{const{comments:a=[],...l}=t;return Array.isArray(a)&&e.push(...a),l}));u.value=t,c.value=e}else if(l.tasks&&Array.isArray(l.tasks)){const e=[],t=l.tasks.map((t=>{const{comments:a=[],...l}=t;return Array.isArray(a)&&e.push(...a),l}));u.value=t,c.value=l.comments||[],l.settings&&(l.settings.title_board&&(s.value=l.settings.title_board),l.settings.columnTypes&&Array.isArray(l.settings.columnTypes)&&(L.value=l.settings.columnTypes),Ga())}else{if(!l.settings||!l.settings.columnTypes||"kanban-column-config"!==l.type)throw new Error("El archivo no contiene un formato válido");if(!confirm("¿Importar configuración de columnas? Esto sobrescribirá la configuración actual."))return;L.value=l.settings.columnTypes,l.settings.title&&(s.value=l.settings.title),Ga()}sl(),ul(),e.target.value=null;const n=document.createElement("div");n.className="import-notification success",n.textContent="Datos importados correctamente",document.body.appendChild(n),setTimeout((()=>{n.classList.add("fade-out"),setTimeout((()=>n.remove()),300)}),3e3)}catch(a){console.error("Error importing data:",a);const e=document.createElement("div");e.className="import-notification error",e.textContent="Error al importar: "+(a.message||"Formato de archivo no válido"),document.body.appendChild(e),setTimeout((()=>{e.classList.add("fade-out"),setTimeout((()=>e.remove()),300)}),5e3)}}function ba(e){return new Promise(((t,a)=>{const l=new FileReader;l.onload=e=>t(e.target.result),l.onerror=e=>a(e),l.readAsText(e)}))}const ya=()=>{try{const e={settings:{title_board:s.value,columnTypes:L.value},tasks:u.value,comments:c.value,version:"1.0.0"},t=JSON.stringify(e,null,2),a=new Blob([t],{type:"application/json"}),l=URL.createObjectURL(a),n=`tareas_${(new Date).toISOString().split("T")[0]}.json`,o=document.createElement("a");o.href=l,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(l)}catch(e){console.error("Error exporting data:",e),alert("Error al exportar los datos. Por favor, inténtalo de nuevo.")}},Ca=(0,r.KR)(""),ha=(0,r.KR)(!1),Ea=(0,r.KR)([]),Ia=(0,n.EW)((()=>!(""!=f.value.jiraLink&&!Xa(f.value.jiraLink))&&(f.value.name.trim()&&f.value.products.length>0&&f.value.priority))),wa=[{value:"muy-bajo",label:"Muy Bajo",class:"priority-muy-bajo"},{value:"bajo",label:"Bajo",class:"priority-bajo"},{value:"medio",label:"Medio",class:"priority-medio"},{value:"alto",label:"Alto",class:"priority-alto"},{value:"muy-alto",label:"Muy Alto",class:"priority-muy-alto"}],xa=(0,n.EW)((()=>{const e=[...new Set(u.value.map((e=>e.products)).flat().filter(Boolean))];return e.sort()})),Ta=(0,n.EW)((()=>I.value?xl(I.value.id)?"Eliminar Tarea Padre":"Eliminar Tarea":"")),Da=(0,n.EW)((()=>I.value?`¿Estás seguro de que quieres eliminar la tarea "${I.value.name}"?`:"")),_a=(0,n.EW)((()=>I.value&&xl(I.value.id)?"Eliminar Todo":"Eliminar"));function Xa(e){if(!e)return!0;try{return new URL(e),!0}catch(t){return!1}}function Sa(e){const t=wa.find((t=>t.value===e));return t?t.label:e}function ja(e){const t=wa.find((t=>t.value===e));return t?t.class:""}function Pa(e){return c.value.filter((t=>t.taskId===e)).sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)))}function Ka(){if(!T.value.text.trim()||!x.value||!T.value.matrixValue)return;const e={"important-urgent":{important:!0,urgent:!0},"important-not-urgent":{important:!0,urgent:!1},"not-important-urgent":{important:!1,urgent:!0},"not-important-not-urgent":{important:!1,urgent:!1}},{important:t,urgent:a}=e[T.value.matrixValue],l={id:Date.now(),taskId:x.value.id,text:T.value.text.trim(),important:t,urgent:a,isCompleted:!1,createdAt:(new Date).toISOString()};c.value.push(l),T.value={text:"",matrixValue:"not-important-not-urgent"}}function Ra(e){const t=c.value.find((t=>t.id===e));t&&(t.isCompleted=!t.isCompleted,t.completedAt=t.isCompleted?(new Date).toISOString():null)}function Aa(e){const t=c.value.findIndex((t=>t.id===e));-1!==t&&c.value.splice(t,1)}function Na(e,t){return e&&t?"Importante y Urgente":e&&!t?"Importante y No urgente":!e&&t?"No importante y Urgente":"No importante y No urgente"}function Oa(e,t){return e&&t?"comment-priority-important-urgent":e&&!t?"comment-priority-important-not-urgent":!e&&t?"comment-priority-not-important-urgent":"comment-priority-not-important-not-urgent"}function Ua(e,t){return e&&t?"matrix-important-urgent":e&&!t?"matrix-important-not-urgent":!e&&t?"matrix-not-important-urgent":"matrix-not-important-not-urgent"}function $a(e){const t=new Date(e);return t.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Va(){const e=Ca.value?.toLowerCase()?.trim()||"";Ea.value=e?xa.value.filter((t=>t.toLowerCase().includes(e)&&!f.value.products.includes(t))).slice(0,5):xa.value.slice(0,5)}function Ja(e){f.value.products.includes(e)||f.value.products.push(e),Ca.value="",ha.value=!1,Ea.value=[]}function Qa(){const e=Ca.value.trim().toUpperCase();e&&!f.value.products.includes(e)&&(f.value.products.push(e),Ca.value="",ha.value=!1,Ea.value=[])}function Fa(e){const t=f.value.products.indexOf(e);t>-1&&f.value.products.splice(t,1)}async function Wa(){try{const e={tasks:u.value,comments:c.value};await navigator.clipboard.writeText(JSON.stringify(e,null,2)),C.value=!0,setTimeout((()=>{C.value=!1}),2e3)}catch(e){console.error("Error al copiar al portapapeles:",e);const t=document.createElement("textarea"),a={tasks:u.value,comments:c.value};t.value=JSON.stringify(a,null,2),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),C.value=!0,setTimeout((()=>{C.value=!1}),2e3)}}function Ba(e){I.value=e,E.value=!0,ca.value=!1}function qa(){E.value=!1,I.value=null}function Ma(){if(!I.value)return;const e=I.value.id;if(u.value=u.value.filter((t=>t.id!==e)),c.value=c.value.filter((t=>t.taskId!==e)),xl(e)){const t=u.value.filter((t=>t.parentId===e));t.forEach((e=>{c.value=c.value.filter((t=>t.taskId!==e.id))})),u.value=u.value.filter((t=>t.parentId!==e))}u.value.forEach((t=>{t.parentId===e&&(t.parentId=null)})),E.value=!1,I.value=null}function za(){const e=localStorage.getItem("boardSettings");if(e)try{const t=JSON.parse(e);t.title_board&&(s.value=t.title_board)}catch(t){console.error("Error loading settings:",t)}}const Ga=()=>{localStorage.setItem("kanbanSettings",JSON.stringify({title:s.value,columnTypes:L.value}))},Ha=()=>{const e=localStorage.getItem("kanbanSettings");if(e)try{const t=JSON.parse(e);t.columnTypes&&(L.value=t.columnTypes)}catch(t){console.error("Error al cargar configuración de columnas:",t)}},Ya=()=>{b.value.name.trim()&&(L.value.push({id:b.value.name.toLowerCase().replace(/\s+/g,"-"),name:b.value.name.trim(),color:b.value.color}),b.value={name:"",color:"#CCCCCC"})};function Za(e,t){e.stopPropagation(),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t),a.value=t,e.currentTarget.classList.add("dragging")}function el(e,t){if(e.preventDefault(),null===a.value)return;i.value=t;const l=document.querySelectorAll(".column-type-item");l.forEach(((e,a)=>{e.classList.toggle("drag-over",a===t)}))}function tl(e){if(e.preventDefault(),null===a.value||null===i.value)return;if(a.value===i.value)return;e.stopImmediatePropagation();const t=[...L.value],[l]=t.splice(a.value,1);t.splice(i.value,0,l),L.value=t,nl(),al()}function al(){document.querySelectorAll(".column-type-item").forEach((e=>{e.classList.remove("dragging","drag-over")})),a.value=null,i.value=null}function ll(e){const t=L.value[e],a=u.value.filter((e=>e.status===t.id));a.length>0?ol(`No se puede eliminar la columna "${t.name}" porque tiene ${a.length} tarea(s) asignada(s).`,"error"):L.value.length>1?(L.value.splice(e,1),nl(),ol("Columna eliminada correctamente")):ol("Debe haber al menos una columna","error")}const nl=()=>{Ga(),g.value=!1};function ol(e,t="success"){const a=document.createElement("div");a.className=`import-notification ${t}`,a.textContent=e,document.body.appendChild(a),setTimeout((()=>{a.classList.add("fade-out"),setTimeout((()=>a.remove()),300)}),3e3)}function rl(){try{const e=localStorage.getItem("kanban-tasks");e?(u.value=JSON.parse(e),u.value.forEach((e=>{e.product&&!e.products&&(e.products=[e.product],delete e.product),e.products||(e.products=[])}))):u.value=[]}catch(e){console.error("Error al cargar las tareas:",e),u.value=[]}}function il(){try{const e=localStorage.getItem("kanban-comments");c.value=e?JSON.parse(e):[{id:1,taskId:1,text:"Necesitamos revisar los requisitos de seguridad urgentemente",important:!0,urgent:!0,isCompleted:!1,createdAt:new Date(Date.now()-864e5).toISOString()},{id:2,taskId:1,text:"Ya está listo el diseño de la interfaz, podemos planificar la implementación",important:!0,urgent:!1,isCompleted:!0,completedAt:new Date(Date.now()-36e5).toISOString(),createdAt:(new Date).toISOString()},{id:3,taskId:2,text:"Hay que responder al cliente sobre el timeline",important:!1,urgent:!0,isCompleted:!1,createdAt:(new Date).toISOString()}]}catch(e){console.error("Error al cargar los comentarios:",e),c.value=[]}}function sl(){try{localStorage.setItem("kanban-tasks",JSON.stringify(u.value))}catch(e){console.error("Error al guardar las tareas:",e)}}function ul(){try{localStorage.setItem("kanban-comments",JSON.stringify(c.value))}catch(e){console.error("Error al guardar los comentarios:",e)}}function cl(){k.value=null,m.value=!0,vl()}function dl(){m.value=!1,_.value=!1,ha.value=!1,k.value=null,vl()}function vl(){f.value={name:"",description:"",products:[],priority:"",jiraLink:"",parentId:null},D.value="",Ca.value="",X.value=[],Ea.value=[]}function pl(){if(Ia.value){if(k.value){const e=u.value.findIndex((e=>e.id===k.value.id));-1!==e&&(u.value[e]={...u.value[e],name:f.value.name.trim(),description:f.value.description.trim(),products:f.value.products.map((e=>e.toUpperCase())),priority:f.value.priority,jiraLink:f.value.jiraLink.trim(),parentId:f.value.parentId,updatedAt:(new Date).toISOString()})}else{const e={id:Date.now(),name:f.value.name.trim(),description:f.value.description.trim(),products:f.value.products.map((e=>e.toUpperCase())),priority:f.value.priority,jiraLink:f.value.jiraLink.trim(),status:"backlog",parentId:f.value.parentId,createdAt:(new Date).toISOString()};u.value.push(e)}dl()}}function ml(){const e=D.value?.toLowerCase()?.trim()||"";X.value=e?u.value.filter((t=>{if(!t||!t.name)return!1;if(k.value&&t.id===k.value.id)return!1;const a=t.name.toLowerCase().includes(e),l=String(t.id).includes(e),n=t.description&&"string"===typeof t.description&&t.description.toLowerCase().includes(e);return a||l||n})).slice(0,10):u.value.filter((e=>!k.value||e.id!==k.value.id)).slice(0,10)}function kl(e){e&&e.id&&e.name&&(f.value.parentId=e.id,D.value=`${e.name} (ID: ${e.id})`,_.value=!1,X.value=[])}function fl(){f.value.parentId=null,D.value="",X.value=[]}function gl(){console.log("Buscando:",S.value)}function Ll(e){return u.value.filter((t=>{if(t.status!==e)return!1;if(S.value){const e=S.value.toLowerCase().trim(),a=t.name.toLowerCase().includes(e),l=String(t.id).includes(e);if(!a&&!l)return!1}if(j.value.length>0){const e=t.products&&t.products.some((e=>j.value.includes(e)));if(!e)return!1}return!(sa.value.length>0&&!sa.value.includes(t.priority))}))}function bl(){w.value=!1,x.value=null,T.value={text:"",matrixValue:"not-important-not-urgent"}}function yl(e,t){da.value=e,va.value=t.clientX,pa.value=t.clientY,ca.value=!0}function Cl(e){if(k.value=e,f.value={name:e.name,description:e.description||"",products:e.products||[],priority:e.priority||"",jiraLink:e.jiraLink||"",parentId:e.parentId},e.parentId){const t=wl(e.parentId);D.value=t?`${t.name} (ID: ${t.id})`:""}m.value=!0,ca.value=!1}function hl(e){x.value=e,w.value=!0}function El(e){fa&&clearTimeout(fa),ma.value=e,fa=setTimeout((()=>{ma.value=null,fa=null}),5e3)}function Il(e,t){return e?e.length>t?e.substring(0,t)+"...":e:""}function wl(e){return e&&u.value&&Array.isArray(u.value)&&u.value.find((t=>t&&t.id===e))||null}function xl(e){return u.value.some((t=>t.parentId===e))}function Tl(e){return u.value.filter((t=>t.parentId===e)).length}function Dl(e){return u.value.filter((t=>t.parentId===e))}function _l(e){const t={backlog:"Backlog",paralyzed:"Paralizada","in-progress":"En Progreso",testing:"Testing",finalized:"Finalizada"};return t[e]||e}function Xl(e){const t=new Date(e);return t.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}function Sl(e,t){v.value=t,e.dataTransfer.effectAllowed="move",p.value=null}function jl(){v.value=null,p.value=null}function Pl(e,t){if(e.preventDefault(),p.value=null,v.value&&v.value.status!==t){const e=u.value.findIndex((e=>e.id===v.value.id));-1!==e&&(u.value[e].status=t,u.value[e].updatedAt=(new Date).toISOString())}v.value=null}return(0,n.sV)((()=>{za(),rl(),Ha(),il(),document.addEventListener("click",(e=>{e.target.closest(".select-container")||(_.value=!1),e.target.closest(".multiselect-container")||(ia.value=!1,ua.value=!1),e.target.closest(".context-menu")||(ca.value=!1),e.target.closest(".product-autocomplete")||(ha.value=!1)}))})),(0,n.wB)(u,(()=>{sl()}),{deep:!0}),(0,n.wB)(c,(()=>{ul()}),{deep:!0}),(e,a)=>((0,n.uX)(),(0,n.CE)("div",K,[(0,n.Lk)("div",R,[(0,n.bF)(P,{boardTitle:s.value,"onUpdate:boardTitle":a[0]||(a[0]=e=>s.value=e),searchTerm:S.value,"onUpdate:searchTerm":a[1]||(a[1]=e=>S.value=e),selectedProducts:j.value,"onUpdate:selectedProducts":a[2]||(a[2]=e=>j.value=e),selectedPriorities:sa.value,"onUpdate:selectedPriorities":a[3]||(a[3]=e=>sa.value=e),"available-products":xa.value,"available-priorities":wa,onSearch:gl,onConfigClick:a[4]||(a[4]=e=>g.value=!0),onAddTask:cl},null,8,["boardTitle","searchTerm","selectedProducts","selectedPriorities","available-products"]),g.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal-overlay",onClick:a[13]||(a[13]=e=>g.value=!1)},[(0,n.Lk)("div",{class:"modal-content config-modal",onClick:a[12]||(a[12]=(0,l.D$)((()=>{}),["stop"]))},[(0,n.Lk)("div",A,[a[45]||(a[45]=(0,n.Lk)("h2",{class:"modal-title"},"Configuración",-1)),(0,n.Lk)("button",{onClick:a[5]||(a[5]=e=>g.value=!1),class:"close-button-red"},"×")]),(0,n.Lk)("div",N,[(0,n.Lk)("button",{onClick:a[6]||(a[6]=e=>h.value="columns"),class:(0,o.C4)(["tab-button",{active:"columns"===h.value}])}," Columnas ",2),(0,n.Lk)("button",{onClick:a[7]||(a[7]=e=>h.value="data"),class:(0,o.C4)(["tab-button",{active:"data"===h.value}])}," Datos ",2)]),"columns"===h.value?((0,n.uX)(),(0,n.CE)("div",O,[(0,n.Lk)("div",U,[a[48]||(a[48]=(0,n.Lk)("div",{class:"config-actions",style:{"margin-top":"0","padding-top":"0",border:"none","justify-content":"space-between","margin-bottom":"15px"}},[(0,n.Lk)("h3",null,"Tipos de Columna"),(0,n.Lk)("div")],-1)),(0,n.Lk)("div",{class:"column-types-list",onDragover:a[8]||(a[8]=(0,l.D$)((()=>{}),["prevent"])),onDrop:tl},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(L.value,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"column-type-item",draggable:"true",onDragstart:e=>Za(e,t),onDragover:(0,l.D$)((e=>el(e,t)),["prevent"]),onDragend:al},[a[46]||(a[46]=(0,n.Lk)("div",{class:"drag-handle",title:"Arrastrar para reordenar"},"☰",-1)),(0,n.Lk)("div",{class:"color-preview",style:(0,o.Tr)({backgroundColor:e.color})},null,4),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.name=t,class:"column-name-input"},null,8,V),[[l.Jo,e.name]]),(0,n.bo)((0,n.Lk)("input",{type:"color","onUpdate:modelValue":t=>e.color=t,class:"color-picker"},null,8,J),[[l.Jo,e.color]]),(0,n.Lk)("button",{onClick:e=>ll(t),class:"remove-column-btn",title:"Eliminar columna",disabled:L.value.length<=1}," × ",8,Q)],40,$)))),128))],32),(0,n.Lk)("div",F,[a[47]||(a[47]=(0,n.Lk)("h4",null,"Agregar nuevo tipo de columna",-1)),(0,n.Lk)("div",W,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":a[9]||(a[9]=e=>b.value.name=e),placeholder:"Nombre de la columna",class:"column-name-input"},null,512),[[l.Jo,b.value.name]]),(0,n.bo)((0,n.Lk)("input",{type:"color","onUpdate:modelValue":a[10]||(a[10]=e=>b.value.color=e),class:"color-picker"},null,512),[[l.Jo,b.value.color]]),(0,n.Lk)("button",{onClick:Ya,class:"add-column-btn",disabled:!b.value.name.trim()}," Agregar ",8,B)])])]),(0,n.Lk)("div",{class:"config-actions"},[(0,n.Lk)("button",{onClick:nl,class:"save-btn"},"Guardar Cambios"),(0,n.Lk)("button",{onClick:Ha,class:"cancel-btn"},"Cancelar")])])):(0,n.Q3)("",!0),"data"===h.value?((0,n.uX)(),(0,n.CE)("div",q,[(0,n.Lk)("div",M,[(0,n.Lk)("button",{onClick:ya,class:"export-config-btn"}," Exportar Todos los Datos "),(0,n.Lk)("button",{onClick:ga,class:"import-config-btn"}," Importar Datos "),(0,n.Lk)("input",{type:"file",ref_key:"fileInput",ref:ka,onChange:La,accept:".json",style:{display:"none"}},null,544)]),(0,n.Lk)("div",z,[(0,n.Lk)("pre",G,(0,o.v_)(JSON.stringify({settings:{title:s.value,columnTypes:L.value},tasks:d.value,comments:c.value.value,version:"1.0.0"},null,2)),1)]),(0,n.Lk)("div",H,[(0,n.Lk)("button",{onClick:Wa,class:"copy-json-btn"},(0,o.v_)(C.value?"¡Copiado!":"Copiar JSON"),1),(0,n.Lk)("button",{onClick:a[11]||(a[11]=e=>g.value=!1),class:"cancel-btn"},"Cerrar")])])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),y.value?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"modal-overlay",onClick:a[16]||(a[16]=e=>y.value=!1)},[(0,n.Lk)("div",{class:"modal-content json-modal",onClick:a[15]||(a[15]=(0,l.D$)((()=>{}),["stop"]))},[(0,n.Lk)("div",Y,[a[49]||(a[49]=(0,n.Lk)("h2",{class:"modal-title"},"Estado actual del JSON",-1)),(0,n.Lk)("div",Z,[(0,n.Lk)("button",{onClick:Wa,class:(0,o.C4)(["copy-button",{copied:C.value}])},(0,o.v_)(C.value?"✓ Copiado":"📋 Copiar"),3),(0,n.Lk)("button",{onClick:a[14]||(a[14]=e=>y.value=!1),class:"close-button-red"},"×")])]),(0,n.Lk)("div",ee,[(0,n.Lk)("pre",te,(0,o.v_)(JSON.stringify({tasks:d.value,comments:c.value.value,settings:{title_board:s.value,version:"1.0.0"}},null,2)),1)])])])):(0,n.Q3)("",!0),m.value?((0,n.uX)(),(0,n.CE)("div",ae,[(0,n.Lk)("div",{class:"modal-content modal-wide",onClick:a[29]||(a[29]=(0,l.D$)((()=>{}),["stop"]))},[(0,n.Lk)("div",le,[(0,n.Lk)("h2",ne,(0,o.v_)(k.value?"Editar Tarea":"Crear Nueva Tarea"),1),(0,n.Lk)("button",{onClick:dl,class:"close-button-red"},"×")]),(0,n.Lk)("form",{onSubmit:(0,l.D$)(pl,["prevent"]),class:"modal-form"},[(0,n.Lk)("div",oe,[a[50]||(a[50]=(0,n.Lk)("label",{for:"taskName",class:"form-label"},"Nombre de la tarea *",-1)),(0,n.bo)((0,n.Lk)("input",{id:"taskName","onUpdate:modelValue":a[17]||(a[17]=e=>f.value.name=e),type:"text",class:"form-input",placeholder:"Ingresa el nombre de la tarea...",required:""},null,512),[[l.Jo,f.value.name]])]),(0,n.Lk)("div",re,[a[51]||(a[51]=(0,n.Lk)("label",{for:"taskDescription",class:"form-label"},[(0,n.eW)("Descripción "),(0,n.Lk)("span",{class:"optional-label"},"(opcional)")],-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"taskDescription","onUpdate:modelValue":a[18]||(a[18]=e=>f.value.description=e),class:"form-textarea",placeholder:"Describe la tarea...",rows:"3"},null,512),[[l.Jo,f.value.description]])]),(0,n.Lk)("div",ie,[a[52]||(a[52]=(0,n.Lk)("label",{for:"taskProduct",class:"form-label"},"Productos *",-1)),(0,n.Lk)("div",se,[f.value.products&&f.value.products.length>0?((0,n.uX)(),(0,n.CE)("div",ue,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(f.value.products,(e=>((0,n.uX)(),(0,n.CE)("span",{key:e,class:"product-tag"},[(0,n.eW)((0,o.v_)(e)+" ",1),(0,n.Lk)("button",{type:"button",onClick:t=>Fa(e),class:"remove-product"},"×",8,ce)])))),128))])):(0,n.Q3)("",!0),(0,n.Lk)("div",de,[(0,n.bo)((0,n.Lk)("input",{id:"taskProduct","onUpdate:modelValue":a[19]||(a[19]=e=>Ca.value=e),onInput:Va,onFocus:a[20]||(a[20]=e=>ha.value=!0),onKeydown:[(0,l.jR)((0,l.D$)(Qa,["prevent"]),["enter"]),(0,l.jR)(Qa,["tab"])],type:"text",class:"form-input",placeholder:"Buscar productos existentes... (presiona Enter para crear)"},null,40,ve),[[l.Jo,Ca.value]]),ha.value&&Ea.value.length>0?((0,n.uX)(),(0,n.CE)("div",pe,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Ea.value,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e,onClick:t=>Ja(e),class:"product-suggestion"},(0,o.v_)(e),9,me)))),128))])):(0,n.Q3)("",!0)])])]),(0,n.Lk)("div",ke,[a[54]||(a[54]=(0,n.Lk)("label",{for:"taskPriority",class:"form-label"},"Prioridad *",-1)),(0,n.bo)((0,n.Lk)("select",{id:"taskPriority","onUpdate:modelValue":a[21]||(a[21]=e=>f.value.priority=e),class:"form-input",required:""},[a[53]||(a[53]=(0,n.Lk)("option",{value:""},"Selecciona una prioridad",-1)),((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(wa,(e=>(0,n.Lk)("option",{key:e.value,value:e.value},(0,o.v_)(e.label),9,fe))),64))],512),[[l.u1,f.value.priority]])]),(0,n.Lk)("div",ge,[a[55]||(a[55]=(0,n.Lk)("label",{for:"jiraLink",class:"form-label"},[(0,n.eW)("JIRA LINK "),(0,n.Lk)("span",{class:"optional-label"},"(opcional)")],-1)),(0,n.Lk)("div",Le,[(0,n.bo)((0,n.Lk)("input",{id:"jiraLink","onUpdate:modelValue":a[22]||(a[22]=e=>f.value.jiraLink=e),type:"url",class:(0,o.C4)(["form-input",{"input-error":f.value.jiraLink&&!Xa(f.value.jiraLink)}]),placeholder:"https://jira.company.com/browse/PROJ-123",onInput:a[23]||(a[23]=(...t)=>e.validateJiraLink&&e.validateJiraLink(...t))},null,34),[[l.Jo,f.value.jiraLink]]),f.value.jiraLink?((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,o.C4)(["validation-icon",{valid:Xa(f.value.jiraLink),invalid:!Xa(f.value.jiraLink)}])},(0,o.v_)(Xa(f.value.jiraLink)?"✓":"✗"),3)):(0,n.Q3)("",!0)]),f.value.jiraLink&&!Xa(f.value.jiraLink)?((0,n.uX)(),(0,n.CE)("div",be," Por favor, ingresa una URL válida ")):((0,n.uX)(),(0,n.CE)("div",ye," Deja vacío si no hay un enlace de Jira "))]),(0,n.Lk)("div",Ce,[(0,n.Lk)("div",he,[a[56]||(a[56]=(0,n.Lk)("label",{for:"startDate",class:"form-label"},[(0,n.eW)("Fecha de inicio "),(0,n.Lk)("span",{class:"optional-label"},"(opcional)")],-1)),(0,n.bo)((0,n.Lk)("input",{id:"startDate","onUpdate:modelValue":a[24]||(a[24]=e=>f.value.startDate=e),type:"date",class:"form-input"},null,512),[[l.Jo,f.value.startDate]])]),(0,n.Lk)("div",Ee,[a[57]||(a[57]=(0,n.Lk)("label",{for:"endDate",class:"form-label"},[(0,n.eW)("Fecha de fin "),(0,n.Lk)("span",{class:"optional-label"},"(opcional)")],-1)),(0,n.bo)((0,n.Lk)("input",{id:"endDate","onUpdate:modelValue":a[25]||(a[25]=e=>f.value.endDate=e),type:"date",class:"form-input",min:f.value.startDate},null,8,Ie),[[l.Jo,f.value.endDate]])])]),(0,n.Lk)("div",we,[a[59]||(a[59]=(0,n.Lk)("label",{for:"parentTask",class:"form-label"},[(0,n.eW)("Tarea Padre "),(0,n.Lk)("span",{class:"optional-label"},"(opcional)")],-1)),(0,n.Lk)("div",xe,[(0,n.bo)((0,n.Lk)("input",{id:"parentTask","onUpdate:modelValue":a[26]||(a[26]=e=>D.value=e),onInput:ml,onFocus:a[27]||(a[27]=e=>_.value=!0),onClick:a[28]||(a[28]=e=>_.value=!0),type:"text",class:"form-input",placeholder:"Buscar por nombre o ID...",autocomplete:"off"},null,544),[[l.Jo,D.value]]),_.value&&(X.value.length>0||D.value)?((0,n.uX)(),(0,n.CE)("div",Te,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(X.value,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,onClick:t=>kl(e),class:"dropdown-item"},[(0,n.Lk)("div",_e,[(0,n.Lk)("span",Xe,(0,o.v_)(e.name),1),(0,n.Lk)("span",Se,"ID: "+(0,o.v_)(e.id),1),(0,n.Lk)("span",je,(0,o.v_)(_l(e.status)),1)]),e.description?((0,n.uX)(),(0,n.CE)("div",Pe,(0,o.v_)(Il(e.description,50)),1)):(0,n.Q3)("",!0)],8,De)))),128)),0===X.value.length&&D.value?((0,n.uX)(),(0,n.CE)("div",Ke," No se encontraron tareas ")):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)]),f.value.parentId?((0,n.uX)(),(0,n.CE)("div",Re,[(0,n.Lk)("span",null,[a[58]||(a[58]=(0,n.eW)("Tarea padre seleccionada: ")),(0,n.Lk)("strong",null,(0,o.v_)(wl(f.value.parentId)?.name),1),(0,n.eW)(" (ID: "+(0,o.v_)(f.value.parentId)+")",1)]),(0,n.Lk)("button",{type:"button",onClick:fl,class:"clear-parent"},"×")])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Ae,[(0,n.Lk)("button",{type:"button",onClick:dl,class:"cancel-button"}," Cancelar "),(0,n.Lk)("button",{type:"submit",disabled:!Ia.value,class:"submit-button"},(0,o.v_)(k.value?"Guardar Cambios":"Crear Tarea"),9,Ne)])],32)])])):(0,n.Q3)("",!0),w.value?((0,n.uX)(),(0,n.CE)("div",{key:3,class:"modal-overlay combined-modal-overlay",onClick:bl},[(0,n.Lk)("div",{class:"combined-modal-container",onClick:a[37]||(a[37]=(0,l.D$)((()=>{}),["stop"]))},[(0,n.Lk)("button",{onClick:bl,class:"close-button-red combined-close-button"},"×"),(0,n.Lk)("div",Oe,[(0,n.Lk)("div",Ue,[(0,n.Lk)("div",$e,[(0,n.Lk)("h2",Ve,"Comentarios - "+(0,o.v_)(x.value?.name),1)]),(0,n.Lk)("div",Je,[(0,n.Lk)("div",Qe,[0===Pa(x.value?.id).length?((0,n.uX)(),(0,n.CE)("div",Fe," No hay comentarios aún. ¡Añade el primero! ")):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Pa(x.value?.id),(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:(0,o.C4)(["comment-item",[Ua(e.important,e.urgent),{"comment-completed":e.isCompleted}]])},[(0,n.Lk)("div",We,[(0,n.Lk)("div",Be,[(0,n.Lk)("span",{class:(0,o.C4)(["comment-priority",Oa(e.important,e.urgent)])},(0,o.v_)(Na(e.important,e.urgent)),3),(0,n.Lk)("span",qe,(0,o.v_)($a(e.createdAt)),1),e.isCompleted&&e.completedAt?((0,n.uX)(),(0,n.CE)("span",Me," ✓ Completado: "+(0,o.v_)($a(e.completedAt)),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",ze,[(0,n.Lk)("button",{onClick:t=>Ra(e.id),class:(0,o.C4)(["comment-action-btn",{completed:e.isCompleted}]),title:e.isCompleted?"Marcar como pendiente":"Marcar como completado"},(0,o.v_)(e.isCompleted?"✓":"○"),11,Ge),(0,n.Lk)("button",{onClick:t=>Aa(e.id),class:"comment-action-btn delete",title:"Eliminar comentario"}," 🗑️ ",8,He)])]),(0,n.Lk)("div",{class:(0,o.C4)(["comment-text",{"completed-text":e.isCompleted}])},(0,o.v_)(e.text),3)],2)))),128))]),(0,n.Lk)("div",Ye,[(0,n.Lk)("div",Ze,[a[60]||(a[60]=(0,n.Lk)("label",{class:"form-label"},"Nuevo comentario",-1)),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":a[30]||(a[30]=e=>T.value.text=e),class:"form-textarea",placeholder:"Escribe tu comentario...",rows:"3"},null,512),[[l.Jo,T.value.text]])]),(0,n.Lk)("div",et,[a[65]||(a[65]=(0,n.Lk)("label",{class:"form-label"},"Prioridad del comentario (Matriz de Eisenhower)",-1)),(0,n.Lk)("div",tt,[(0,n.Lk)("div",at,[(0,n.Lk)("label",lt,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":a[31]||(a[31]=e=>T.value.matrixValue=e),value:"important-urgent",name:"commentPriority"},null,512),[[l.XL,T.value.matrixValue]]),a[61]||(a[61]=(0,n.Lk)("span",{class:"matrix-label important-urgent"},[(0,n.Lk)("strong",null,"Importante y Urgente"),(0,n.Lk)("small",null,"Hacer ahora")],-1))]),(0,n.Lk)("label",nt,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":a[32]||(a[32]=e=>T.value.matrixValue=e),value:"important-not-urgent",name:"commentPriority"},null,512),[[l.XL,T.value.matrixValue]]),a[62]||(a[62]=(0,n.Lk)("span",{class:"matrix-label important-not-urgent"},[(0,n.Lk)("strong",null,"Importante y No urgente"),(0,n.Lk)("small",null,"Planificar")],-1))])]),(0,n.Lk)("div",ot,[(0,n.Lk)("label",rt,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":a[33]||(a[33]=e=>T.value.matrixValue=e),value:"not-important-urgent",name:"commentPriority"},null,512),[[l.XL,T.value.matrixValue]]),a[63]||(a[63]=(0,n.Lk)("span",{class:"matrix-label not-important-urgent"},[(0,n.Lk)("strong",null,"No importante y Urgente"),(0,n.Lk)("small",null,"Delegar")],-1))]),(0,n.Lk)("label",it,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":a[34]||(a[34]=e=>T.value.matrixValue=e),value:"not-important-not-urgent",name:"commentPriority"},null,512),[[l.XL,T.value.matrixValue]]),a[64]||(a[64]=(0,n.Lk)("span",{class:"matrix-label not-important-not-urgent"},[(0,n.Lk)("strong",null,"No importante y No urgente"),(0,n.Lk)("small",null,"Eliminar")],-1))])])])]),(0,n.Lk)("div",st,[(0,n.Lk)("button",{onClick:Ka,disabled:!T.value.text.trim()||!T.value.matrixValue,class:"submit-button"}," Añadir Comentario ",8,ut)])])])]),(0,n.Lk)("div",ct,[(0,n.Lk)("div",dt,[(0,n.Lk)("h2",vt,(0,o.v_)(x.value?.name),1)]),(0,n.Lk)("div",pt,[(0,n.Lk)("div",mt,[a[66]||(a[66]=(0,n.Lk)("strong",null,"ID:",-1)),(0,n.eW)(" "+(0,o.v_)(x.value?.id),1)]),(0,n.Lk)("div",kt,[a[67]||(a[67]=(0,n.Lk)("strong",null,"Estado:",-1)),(0,n.eW)(" "+(0,o.v_)(_l(x.value?.status)),1)]),(0,n.Lk)("div",ft,[a[68]||(a[68]=(0,n.Lk)("strong",null,"Prioridad:",-1)),(0,n.Lk)("span",{class:(0,o.C4)(["priority-badge",ja(x.value?.priority)])},(0,o.v_)(Sa(x.value?.priority)),3)]),(0,n.Lk)("div",gt,[a[69]||(a[69]=(0,n.Lk)("strong",null,"Productos:",-1)),x.value?.products&&x.value.products.length>0?((0,n.uX)(),(0,n.CE)("span",Lt,(0,o.v_)(x.value.products.join(", ")),1)):((0,n.uX)(),(0,n.CE)("span",bt,(0,o.v_)(x.value?.product||"No especificado"),1))]),x.value?.description?((0,n.uX)(),(0,n.CE)("div",yt,[a[70]||(a[70]=(0,n.Lk)("strong",null,"Descripción:",-1)),(0,n.eW)(" "+(0,o.v_)(x.value.description),1)])):(0,n.Q3)("",!0),x.value?.jiraLink?((0,n.uX)(),(0,n.CE)("div",Ct,[a[71]||(a[71]=(0,n.Lk)("strong",null,"JIRA LINK:",-1)),(0,n.Lk)("a",{href:x.value.jiraLink,target:"_blank",rel:"noopener noreferrer",class:"jira-link"},(0,o.v_)(x.value.jiraLink),9,ht)])):(0,n.Q3)("",!0),x.value?.parentId?((0,n.uX)(),(0,n.CE)("div",Et,[a[72]||(a[72]=(0,n.Lk)("strong",null,"Tarea Padre:",-1)),(0,n.Lk)("button",{onClick:a[35]||(a[35]=e=>El(x.value.parentId)),class:"link-button"},(0,o.v_)(wl(x.value.parentId)?.name)+" (ID: "+(0,o.v_)(x.value.parentId)+") ",1)])):(0,n.Q3)("",!0),Dl(x.value?.id).length>0?((0,n.uX)(),(0,n.CE)("div",It,[(0,n.Lk)("strong",null,"Subtareas ("+(0,o.v_)(Tl(x.value.id))+"):",1),(0,n.Lk)("div",wt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Dl(x.value.id),(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"subtask-item"},[(0,n.Lk)("button",{onClick:t=>El(e.id),class:"link-button"},(0,o.v_)(e.name)+" ("+(0,o.v_)(_l(e.status))+") ",9,xt)])))),128))])])):(0,n.Q3)("",!0),(0,n.Lk)("div",Tt,[a[73]||(a[73]=(0,n.Lk)("strong",null,"Creada:",-1)),(0,n.eW)(" "+(0,o.v_)($a(x.value?.createdAt)),1)]),x.value?.updatedAt?((0,n.uX)(),(0,n.CE)("div",Dt,[a[74]||(a[74]=(0,n.Lk)("strong",null,"Actualizada:",-1)),(0,n.eW)(" "+(0,o.v_)($a(x.value.updatedAt)),1)])):(0,n.Q3)("",!0),(0,n.Lk)("div",_t,[(0,n.Lk)("button",{onClick:a[36]||(a[36]=e=>Cl(x.value)),class:"action-button edit-button"}," ✏️ Editar Tarea ")])])])])])])):(0,n.Q3)("",!0),E.value?((0,n.uX)(),(0,n.CE)("div",{key:4,class:"modal-overlay",onClick:qa},[(0,n.Lk)("div",{class:"modal-content delete-modal",onClick:a[38]||(a[38]=(0,l.D$)((()=>{}),["stop"]))},[(0,n.Lk)("div",Xt,[(0,n.Lk)("h2",St,(0,o.v_)(Ta.value),1),(0,n.Lk)("button",{onClick:qa,class:"close-button-red"},"×")]),(0,n.Lk)("div",jt,[a[77]||(a[77]=(0,n.Lk)("div",{class:"delete-icon"},"⚠️",-1)),(0,n.Lk)("p",Pt,(0,o.v_)(Da.value),1),I.value&&xl(I.value.id)?((0,n.uX)(),(0,n.CE)("div",Kt,[(0,n.Lk)("p",null,[a[75]||(a[75]=(0,n.Lk)("strong",null,"⚠️ Atención:",-1)),(0,n.eW)(" Esta tarea tiene "+(0,o.v_)(Tl(I.value.id))+" subtarea(s).",1)]),a[76]||(a[76]=(0,n.Lk)("p",null,"Si eliminas esta tarea padre, también se eliminarán todas sus subtareas.",-1))])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Rt,[(0,n.Lk)("button",{onClick:qa,class:"cancel-button"}," Cancelar "),(0,n.Lk)("button",{onClick:Ma,class:"delete-button"},(0,o.v_)(_a.value),1)])])])):(0,n.Q3)("",!0),ca.value?((0,n.uX)(),(0,n.CE)("div",{key:5,style:(0,o.Tr)({top:pa.value+"px",left:va.value+"px"}),class:"context-menu",onClick:a[41]||(a[41]=(0,l.D$)((()=>{}),["stop"]))},[(0,n.Lk)("button",{onClick:a[39]||(a[39]=e=>Cl(da.value)),class:"context-menu-item"}," ✏️ Editar "),(0,n.Lk)("button",{onClick:a[40]||(a[40]=e=>Ba(da.value)),class:"context-menu-item delete"}," 🗑️ Eliminar ")],4)):(0,n.Q3)("",!0),(0,n.Lk)("div",At,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(L.value,((e,r)=>((0,n.uX)(),(0,n.CE)("div",{key:r,class:"column"},[(0,n.Lk)("div",{class:(0,o.C4)(["column-header",`${e.id}-header`]),style:(0,o.Tr)({backgroundColor:e.color,color:t(e.color)})},[(0,n.Lk)("h2",Nt,[(0,n.Lk)("div",{class:(0,o.C4)(["status-dot",`${e.id}-dot`])},null,2),(0,n.eW)(" "+(0,o.v_)(e.name),1)])],6),(0,n.Lk)("div",{onDrop:t=>Pl(t,e.id),onDragover:a[43]||(a[43]=(0,l.D$)((()=>{}),["prevent"])),onDragenter:a[44]||(a[44]=(0,l.D$)((()=>{}),["prevent"])),class:(0,o.C4)(["column-content",{"drag-over":p.value===e.id}]),style:(0,o.Tr)({borderTopColor:e.color})},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Ll(e.id),(t=>((0,n.uX)(),(0,n.CE)("div",{key:t.id,draggable:!0,onDragstart:e=>Sl(e,t),onDragend:jl,onDblclick:e=>hl(t),onContextmenu:(0,l.D$)((e=>yl(t,e)),["prevent"]),class:(0,o.C4)(["task-card",[`${e.id}-card`,{"parent-task":xl(t.id),"child-task":t.parentId,highlighted:ma.value===t.id}]])},[(0,n.Lk)("div",$t,[(0,n.Lk)("h3",Vt,(0,o.v_)(t.name),1),(0,n.Lk)("div",Jt,[(0,n.Lk)("button",{class:"comments-button",title:`${Pa(t.id).length} comentarios`}," 💬 "+(0,o.v_)(Pa(t.id).length),9,Qt),(0,n.Lk)("div",Ft,[xl(t.id)?((0,n.uX)(),(0,n.CE)("div",Wt,"Padre")):(0,n.Q3)("",!0),t.parentId?((0,n.uX)(),(0,n.CE)("div",Bt,"Subtarea")):(0,n.Q3)("",!0)])])]),(0,n.Lk)("div",qt,[(0,n.Lk)("span",Mt,"ID: "+(0,o.v_)(t.id),1),(0,n.Lk)("span",zt,(0,o.v_)(t.products&&t.products.length>0?t.products.join(", "):t.product||"Sin producto"),1),(0,n.Lk)("span",{class:(0,o.C4)(["priority-badge",ja(t.priority)])},(0,o.v_)(Sa(t.priority)),3)]),t.description?((0,n.uX)(),(0,n.CE)("div",Gt,(0,o.v_)(t.description),1)):(0,n.Q3)("",!0),t.jiraLink?((0,n.uX)(),(0,n.CE)("div",Ht,[(0,n.Lk)("a",{href:t.jiraLink,target:"_blank",rel:"noopener noreferrer",class:"jira-link-card",onClick:a[42]||(a[42]=(0,l.D$)((()=>{}),["stop"]))}," 🔗 JIRA ",8,Yt)])):(0,n.Q3)("",!0),t.parentId?((0,n.uX)(),(0,n.CE)("div",Zt,[a[78]||(a[78]=(0,n.eW)(" Padre: ")),(0,n.Lk)("button",{onClick:(0,l.D$)((e=>El(t.parentId)),["stop"]),class:"link-button"},(0,o.v_)(wl(t.parentId)?.name||"Tarea no encontrada"),9,ea)])):(0,n.Q3)("",!0),xl(t.id)?((0,n.uX)(),(0,n.CE)("div",ta,[(0,n.eW)(" Subtareas: "+(0,o.v_)(Tl(t.id))+" ",1),(0,n.Lk)("div",aa,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Dl(t.id).slice(0,2),(e=>((0,n.uX)(),(0,n.CE)("button",{key:e.id,onClick:(0,l.D$)((t=>El(e.id)),["stop"]),class:"link-button child-link"},(0,o.v_)(e.name),9,la)))),128)),Dl(t.id).length>2?((0,n.uX)(),(0,n.CE)("span",na," +"+(0,o.v_)(Dl(t.id).length-2)+" más ",1)):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),(0,n.Lk)("div",oa,[(0,n.Lk)("span",null,(0,o.v_)(Xl(t.createdAt)),1)])],42,Ut)))),128)),0===Ll(e.id).length?((0,n.uX)(),(0,n.CE)("div",ra," No hay tareas en "+(0,o.v_)(e.name.toLowerCase()),1)):(0,n.Q3)("",!0)],46,Ot)])))),128))]),(0,n.Q3)("",!0)])]))}};const sa=ia;var ua=sa;(0,l.Ef)(ua).mount("#app")}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var o=t[l]={exports:{}};return e[l].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,o){if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],o=e[c][2];for(var i=!0,s=0;s<l.length;s++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[s])}))?l.splice(s--,1):(i=!1,o<r&&(r=o));if(i){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[l,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,o,r=l[0],i=l[1],s=l[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(s)var c=s(a)}for(t&&t(l);u<r.length;u++)o=r[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},l=self["webpackChunkneurotask"]=self["webpackChunkneurotask"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(6421)}));l=a.O(l)})();
//# sourceMappingURL=app.602529de.js.map